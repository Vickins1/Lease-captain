<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lease Captain | Tenant Portal</title>
    <!-- Google Font: Source Sans Pro -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="/plugins/fontawesome-free/css/all.min.css">
    <!-- overlayScrollbars -->
    <link rel="stylesheet" href="/plugins/overlayScrollbars/css/OverlayScrollbars.min.css">
    <!-- Theme style -->
    <link rel="stylesheet" href="/dist/css/adminlte.min2167.css?v=3.2.0">
    <!-- Custom Styles -->
    <link rel="icon" type="image/png" sizes="56x56" href="/assets/images/1.png">
    <style>
        .terms-box {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        .terms-box h5 {
            color: #003366;
            font-weight: bold;
        }
        .terms-box h6 {
            color: #28a745;
            margin-top: 15px;
            font-weight: 600;
        }
        .terms-box p {
            font-size: 1.1rem;
            line-height: 1.6;
            color: #333;
        }
        .submit-btn {
            background-color: #003366;
            color: white;
            padding: 10px 25px;
            border-radius: 5px;
            transition: background-color 0.3s;
        }
        .submit-btn:hover {
            background-color: #00509e;
        }
        .submit-btn:disabled {
            background-color: #6c757d;
            cursor: not-allowed;
        }
        .card-header {
            background: linear-gradient(135deg, #003366 0%, #28a745 100%);
            color: white;
            text-align: center;
            padding: 15px;
        }
        .legal-note {
            background: #fff3cd;
            padding: 15px;
            border-radius: 5px;
            margin-top: 20px;
            color: #856404;
            font-size: 0.95rem;
        }
    </style>
</head>
<body class="hold-transition dark-mode sidebar-mini layout-fixed layout-navbar-fixed layout-footer-fixed">
    <div class="wrapper">
        <!-- Preloader -->
        <div class="preloader flex-column justify-content-center align-items-center">
            <img class="animation__wobble" src="/assets/images/2.png" alt="LeaseCaptainLogo" height="150" width="150">
        </div>

        <!-- Navbar -->
        <nav class="main-header navbar navbar-expand navbar-light">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>
                </li>
            </ul>
            <ul class="navbar-nav ml-auto">
                <li class="nav-item dropdown">
                    <a class="nav-link" data-toggle="dropdown" href="#">
                        <i class="far fa-user"></i>
                        <% if (tenant) { %>
                            Welcome, <%= tenant.name %>
                        <% } else { %>
                            Welcome, Guest
                        <% } %>
                    </a>
                    <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right">
                        <a href="/tenantPortal/logout" class="dropdown-item">
                            <i class="fas fa-sign-out-alt mr-2"></i> Logout
                        </a>
                    </div>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-widget="fullscreen" href="#" role="button">
                        <i class="fas fa-expand-arrows-alt"></i>
                    </a>
                </li>
            </ul>
        </nav>

        <!-- Main Sidebar Container -->
        <aside class="main-sidebar sidebar-light-primary elevation-4">
            <a href="/tenantPortal/dashboard" class="brand-link">
                <img src="/assets/images/2.png" alt="LeaseCaptain Logo" class="brand-image img-circle elevation-3" style="opacity: .8">
                <h4 class="brand-text font-weight-bold"><strong>Tenant Portal</strong></h4>
            </a>
            <div class="sidebar">
                <div class="user-panel mt-3 pb-3 mb-3 d-flex">
                    <div class="image">
                        <img src="/dist/img/cap.png" class="img-circle elevation-2" alt="User Image">
                    </div>
                    <div class="info">
                        <a href="#" class="d-block">
                            <strong>
                                <% if (tenant) { %>
                                    <%= tenant.name %>
                                <% } else { %>
                                    Guest
                                <% } %>
                            </strong>
                        </a>
                    </div>
                </div>
                <nav class="mt-2">
                    <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">
                        <li class="nav-item">
                            <a href="/tenantPortal/dashboard" class="nav-link active" style="background-color: #003366; color: #ffffff;">
                                <i class="nav-icon fas fa-tachometer-alt"></i>
                                <p>Dashboard</p>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="/payments" class="nav-link">
                                <i class="nav-icon fas fa-money-bill-wave"></i>
                                <p>Payments</p>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="/requestMaintenance" class="nav-link">
                                <i class="nav-icon fas fa-wrench"></i>
                                <p>Maintenance</p>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="/lease" class="nav-link">
                                <i class="nav-icon fas fa-file-contract"></i>
                                <p>Lease</p>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="/tenant/agreement" class="nav-link">
                                <i class="nav-icon fas fa-hourglass-half"></i>
                                <p>Agreement</p>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="/tenant/profile" class="nav-link">
                                <i class="nav-icon fas fa-user"></i>
                                <p>Profile</p>
                            </a>
                        </li>
                    </ul>
                </nav>
            </div>
        </aside>

        <!-- Content Wrapper -->
        <div class="content-wrapper">
            <div class="container mt-5">
                <div class="card">
                    <div class="card-header">
                        <h2 class="mb-0">Tenancy Agreement</h2>
                    </div>
                    <div class="card-body">
                        <div class="terms-box mb-4">
                            <h5 class="text-center mb-3">Terms and Conditions</h5>
                            <p>
                                Welcome to the Lease Captain Tenant Portal. This tenancy agreement is a legally binding contract between you (the Tenant) and the property management (the Landlord), governed by Kenyan laws including the Landlord and Tenant Act and the Rent Restriction Act. Please review the terms below carefully.
                            </p>

                            <h6><strong>1. Rent Payment</strong></h6>
                            <p>
                                The tenant agrees to pay rent of Ksh. <strong><%= tenant.unit.unitPrice.toFixed(2) %></strong> by the <strong><%= tenant.property.paymentDay %>th</strong> of each month via the designated payment method (e.g., M-Pesa, bank transfer). A late payment penalty of Ksh. 400 per week applies after a 5-day grace period, as per common Kenyan practice.
                            </p>

                            <h6><strong>2. Security Deposit</strong></h6>
                            <p>
                                A refundable security deposit of Ksh. <strong><%= tenant.deposit.toFixed(2) %></strong> has been paid, equivalent to one month’s rent, to cover damages or unpaid dues. The deposit will be refunded within 30 days of lease termination, subject to a property inspection, per Kenyan tenancy norms.
                            </p>

                            <h6><strong>3. Lease Term and Notice Period</strong></h6>
                            <p>
                                The lease term begins on <strong><%= tenant.leaseStartDate.toDateString() %></strong> and ends on <strong><%= tenant.leaseEndDate.toDateString() %></strong>. Either party must provide a minimum of one month’s written notice to terminate, as required by the Landlord and Tenant Act, unless otherwise agreed.
                            </p>

                            <h6><strong>4. Maintenance and Repairs</strong></h6>
                            <p>
                                The tenant must report maintenance issues promptly via the portal. The landlord is responsible for structural repairs and essential services (e.g., water, electricity). Minor repairs (under Ksh. 1,000) are the tenant’s responsibility, aligning with Kenyan tenancy standards.
                            </p>

                            <h6><strong>5. Utilities and Service Charges</strong></h6>
                            <p>
                                The tenant is responsible for utilities (electricity, water, internet) unless specified otherwise. Service charges (e.g., garbage collection, security) are included in the utility, as per the lease agreement. Any changes will be communicated in advance.
                            </p>

                            <h6><strong>6. Property Use and Restrictions</strong></h6>
                            <p>
                                The property is for residential use only. Subletting, illegal activities, or alterations (e.g., painting, drilling) are prohibited without written landlord consent, as per Kenyan law. Pets are allowed only with prior approval and an additional deposit of Ksh. 2,000.
                            </p>

                            <h6><strong>7. Termination and Eviction</strong></h6>
                            <p>
                                Early termination by the tenant incurs a penalty of one month’s rent unless mutually agreed otherwise. The landlord may terminate for non-payment (after 2 months’ arrears) or breach of terms, following a tribunal process as per the Distress for Rent Act.
                            </p>

                            <h6><strong>8. Dispute Resolution</strong></h6>
                            <p>
                                Disputes will first be addressed through mediation. If unresolved, they will be referred to the Business Premises Rent Tribunal or a Kenyan court, per the Landlord and Tenant Act. Both parties agree to comply with legal outcomes.
                            </p>

                            <h6><strong>9. Rent Review</strong></h6>
                            <p>
                                Rent may be reviewed annually with a minimum 2-month written notice, capped at a 10% increase, aligning with Kenyan market practices and legal protections against arbitrary hikes.
                            </p>

                            <h6><strong>10. Inventory and Condition</strong></h6>
                            <p>
                                An inventory of fixtures and fittings will be provided upon move-in. The tenant must return the property in its original condition (normal wear and tear excepted). Any damages beyond wear and tear will be deducted from the deposit.
                            </p>

                            <div class="legal-note">
                                <strong>Legal Note:</strong> This agreement complies with Kenyan tenancy laws, including the Landlord and Tenant Act and Rent Restriction Act (for rents below Ksh. 2,500). All disputes are subject to Kenyan jurisdiction.
                            </div>
                        </div>

                        <!-- Agreement Form -->
                        <form id="agreementForm" action="/tenantPortal/submitAgreement" method="POST">
                            <div class="form-group d-flex align-items-center">
                                <input type="checkbox" id="agreeCheckbox" name="agree" required>
                                <label for="agreeCheckbox">I, <strong><%= tenant.name %></strong>, agree to the terms and conditions of this tenancy agreement.</label>
                            </div>
                            <div class="text-center">
                                <button type="submit" id="submitButton" class="btn submit-btn" disabled>Submit Agreement</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <!-- Control Sidebar -->
        <aside class="control-sidebar control-sidebar-dark"></aside>

        <!-- Main Footer -->
        <footer class="main-footer">
            <strong>Copyright © 2024-2025 <a href="https://leasecaptain.com/">Lease Captain</a></strong>
            All rights reserved.
            <div class="float-right d-none d-sm-inline-block">
                <b>Version</b> 1.0.2
            </div>
        </footer>
    </div>

    <!-- REQUIRED SCRIPTS -->
    <script src="/plugins/jquery/jquery.min.js"></script>
    <script src="/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="/plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js"></script>
    <script src="/dist/js/adminlte2167.js?v=3.2.0"></script>
    <script src="/plugins/jquery-mousewheel/jquery.mousewheel.js"></script>
    <script src="/plugins/raphael/raphael.min.js"></script>
    <script src="/plugins/jquery-mapael/jquery.mapael.min.js"></script>
    <script src="/plugins/jquery-mapael/maps/usa_states.min.js"></script>
    <script src="/plugins/chart.js/Chart.min.js"></script>
    <script src="/dist/js/demo.js"></script>
    <script src="/dist/js/pages/dashboard2.js"></script>
    <script>
        // Enable submit button only when checkbox is checked
        $('#agreeCheckbox').on('change', function () {
            $('#submitButton').prop('disabled', !this.checked);
        });
    </script>
</body>
</html>